# ============================================================
# Open Family Cloud — 環境変数リファレンス（全パターンのスーパーセット）
#
# パターン別の .env.example は platforms/<パターン>/.env.example を参照してください。
# このファイルは全変数の一覧とドキュメントです。
# ============================================================

# ----------------------------------------------------------
# 基本設定（全パターン共通）
# ----------------------------------------------------------
DOMAIN=example.com
TZ=Asia/Tokyo

# ----------------------------------------------------------
# Let's Encrypt / TLS
# ----------------------------------------------------------
ACME_EMAIL=admin@example.com

# パターン3: DNS challenge プロバイダ（任意）
# ACME_DNS_PROVIDER=cloudflare
# ACME_DNS_API_TOKEN=your-dns-api-token

# ----------------------------------------------------------
# OpenLDAP（全パターン共通）
# ----------------------------------------------------------
LDAP_ORGANISATION=Family Cloud
LDAP_DOMAIN=example.com
LDAP_ADMIN_PASSWORD=changeme-ldap-admin
LDAP_CONFIG_PASSWORD=changeme-ldap-config
LDAP_BASE_DN=dc=example,dc=com

# ----------------------------------------------------------
# PostgreSQL（全パターン共通）
# ----------------------------------------------------------
POSTGRES_PASSWORD=changeme-postgres

POSTGRES_NEXTCLOUD_DB=nextcloud
POSTGRES_NEXTCLOUD_USER=nextcloud
POSTGRES_NEXTCLOUD_PASSWORD=changeme-nc-db

POSTGRES_SYNAPSE_DB=synapse
POSTGRES_SYNAPSE_USER=synapse
POSTGRES_SYNAPSE_PASSWORD=changeme-synapse-db

POSTGRES_VAULTWARDEN_DB=vaultwarden
POSTGRES_VAULTWARDEN_USER=vaultwarden
POSTGRES_VAULTWARDEN_PASSWORD=changeme-vw-db

# ----------------------------------------------------------
# Nextcloud（全パターン共通）
# ----------------------------------------------------------
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=changeme-nextcloud

# S3 Object Storage
S3_ENDPOINT=https://sjc1.vultrobjects.com
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_BUCKET_NEXTCLOUD=example-com-nextcloud
S3_REGION=sjc1

# ----------------------------------------------------------
# Matrix Synapse（全パターン共通）
# ----------------------------------------------------------
SYNAPSE_SERVER_NAME=example.com
SYNAPSE_REPORT_STATS=no
S3_BUCKET_SYNAPSE=example-com-synapse-media

# ----------------------------------------------------------
# Jitsi Meet（全パターン共通）
# ----------------------------------------------------------
JITSI_SECRET_JICOFO_COMPONENT=changeme-jicofo-component
JITSI_SECRET_JICOFO_AUTH=changeme-jicofo-auth
JITSI_SECRET_JVB_AUTH=changeme-jvb-auth
JVB_PORT=10000
JVB_ADVERTISE_IP=203.0.113.1

# ----------------------------------------------------------
# docker-mailserver
# ----------------------------------------------------------
# パターン1: Block Storage
MAIL_STORAGE_PATH=/mnt/blockstorage/mail
# パターン3,4: NAS
# MAIL_STORAGE_PATH=/mnt/nas/mail

# ----------------------------------------------------------
# Jellyfin
# ----------------------------------------------------------
# パターン1: S3 via rclone mount
JELLYFIN_MEDIA_PATH=/mnt/s3/jellyfin
S3_BUCKET_JELLYFIN=example-com-jellyfin-media
# パターン3,4: NAS
# JELLYFIN_MEDIA_PATH=/mnt/nas/media

# ----------------------------------------------------------
# Vaultwarden（全パターン共通）
# ----------------------------------------------------------
VAULTWARDEN_SIGNUPS_ALLOWED=true
VAULTWARDEN_ADMIN_TOKEN=changeme-vaultwarden-admin

# ----------------------------------------------------------
# バックアップ（全パターン共通）
# ----------------------------------------------------------
S3_BUCKET_BACKUP=example-com-backup
BACKUP_ENCRYPTION_KEY=changeme-backup-encryption

# ----------------------------------------------------------
# パターン4 追加変数（WireGuard トンネル）
# ----------------------------------------------------------
# VPS_IP=203.0.113.1
# WG_SERVER_PORT=51820
# WG_SERVER_PRIVATE_KEY=changeme-wg-server-private
# WG_SERVER_PUBLIC_KEY=changeme-wg-server-public
# WG_CLIENT_PRIVATE_KEY=changeme-wg-client-private
# WG_CLIENT_PUBLIC_KEY=changeme-wg-client-public
# WG_SUBNET=10.100.0.0/24
# WG_SERVER_IP=10.100.0.1
# WG_CLIENT_IP=10.100.0.2

# ----------------------------------------------------------
# Docker ネットワーク設定（通常変更不要）
# ----------------------------------------------------------
DOCKER_SUBNET=172.20.0.0/16
