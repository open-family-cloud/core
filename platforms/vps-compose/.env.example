# ============================================================
# Open Family Cloud — パターン1: VPS + Docker Compose
# このファイルを .env にコピーして各家庭の値を設定してください
#   cp .env.example .env
# ============================================================

# ----------------------------------------------------------
# 基本設定
# ----------------------------------------------------------
DOMAIN=example.com
TZ=Asia/Tokyo

# ----------------------------------------------------------
# Let's Encrypt / TLS（HTTP challenge）
# ----------------------------------------------------------
ACME_EMAIL=admin@example.com

# ----------------------------------------------------------
# OpenLDAP
# ----------------------------------------------------------
LDAP_ORGANISATION=Family Cloud
LDAP_DOMAIN=example.com
LDAP_ADMIN_PASSWORD=changeme-ldap-admin
LDAP_CONFIG_PASSWORD=changeme-ldap-config
LDAP_BASE_DN=dc=example,dc=com

# ----------------------------------------------------------
# PostgreSQL（共有データベース）
# ----------------------------------------------------------
POSTGRES_PASSWORD=changeme-postgres

# Nextcloud 用
POSTGRES_NEXTCLOUD_DB=nextcloud
POSTGRES_NEXTCLOUD_USER=nextcloud
POSTGRES_NEXTCLOUD_PASSWORD=changeme-nc-db

# Matrix Synapse 用
POSTGRES_SYNAPSE_DB=synapse
POSTGRES_SYNAPSE_USER=synapse
POSTGRES_SYNAPSE_PASSWORD=changeme-synapse-db

# Vaultwarden 用
POSTGRES_VAULTWARDEN_DB=vaultwarden
POSTGRES_VAULTWARDEN_USER=vaultwarden
POSTGRES_VAULTWARDEN_PASSWORD=changeme-vw-db

# ----------------------------------------------------------
# Nextcloud
# ----------------------------------------------------------
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=changeme-nextcloud

# S3 Object Storage（Primary Storage として使用）
S3_ENDPOINT=https://sjc1.vultrobjects.com
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_BUCKET_NEXTCLOUD=example-com-nextcloud
S3_REGION=sjc1

# ----------------------------------------------------------
# Matrix Synapse
# ----------------------------------------------------------
SYNAPSE_SERVER_NAME=example.com
SYNAPSE_REPORT_STATS=no
S3_BUCKET_SYNAPSE=example-com-synapse-media

# ----------------------------------------------------------
# Jitsi Meet
# ----------------------------------------------------------
JITSI_SECRET_JICOFO_COMPONENT=changeme-jicofo-component
JITSI_SECRET_JICOFO_AUTH=changeme-jicofo-auth
JITSI_SECRET_JVB_AUTH=changeme-jvb-auth
JVB_PORT=10000

# サーバーの公開 IP（VPS のグローバル IP）
JVB_ADVERTISE_IP=203.0.113.1

# ----------------------------------------------------------
# docker-mailserver
# ----------------------------------------------------------
# メール保存先（VPS の Block Storage マウントポイント）
MAIL_STORAGE_PATH=/mnt/blockstorage/mail

# ----------------------------------------------------------
# Jellyfin
# ----------------------------------------------------------
# メディアファイルのパス（S3 を rclone mount する場合のマウントポイント）
JELLYFIN_MEDIA_PATH=/mnt/s3/jellyfin
S3_BUCKET_JELLYFIN=example-com-jellyfin-media

# ----------------------------------------------------------
# Vaultwarden
# ----------------------------------------------------------
VAULTWARDEN_SIGNUPS_ALLOWED=true
VAULTWARDEN_ADMIN_TOKEN=changeme-vaultwarden-admin

# ----------------------------------------------------------
# バックアップ（S3）
# ----------------------------------------------------------
S3_BUCKET_BACKUP=example-com-backup
BACKUP_ENCRYPTION_KEY=changeme-backup-encryption

# ----------------------------------------------------------
# Docker ネットワーク設定（通常変更不要）
# ----------------------------------------------------------
DOCKER_SUBNET=172.20.0.0/16
