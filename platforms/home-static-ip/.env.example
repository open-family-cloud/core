# ============================================================
# Open Family Cloud — パターン3: 自宅サーバー + 固定グローバル IP
# このファイルを .env にコピーして各家庭の値を設定してください
#   cp .env.example .env
# ============================================================

# ----------------------------------------------------------
# 基本設定
# ----------------------------------------------------------
DOMAIN=example.com
TZ=Asia/Tokyo

# ----------------------------------------------------------
# Let's Encrypt / TLS
# ----------------------------------------------------------
ACME_EMAIL=admin@example.com

# DNS challenge（オプション: ポート80が使えない場合やワイルドカード証明書が必要な場合）
# 対応プロバイダー: cloudflare, route53, gcloud 等
# https://doc.traefik.io/traefik/https/acme/#providers
ACME_DNS_PROVIDER=cloudflare
ACME_DNS_API_TOKEN=your-dns-api-token

# ----------------------------------------------------------
# OpenLDAP
# ----------------------------------------------------------
LDAP_ORGANISATION=Family Cloud
LDAP_DOMAIN=example.com
LDAP_ADMIN_PASSWORD=changeme-ldap-admin
LDAP_CONFIG_PASSWORD=changeme-ldap-config
LDAP_BASE_DN=dc=example,dc=com

# ----------------------------------------------------------
# PostgreSQL（共有データベース）
# ----------------------------------------------------------
POSTGRES_PASSWORD=changeme-postgres

# Nextcloud 用
POSTGRES_NEXTCLOUD_DB=nextcloud
POSTGRES_NEXTCLOUD_USER=nextcloud
POSTGRES_NEXTCLOUD_PASSWORD=changeme-nc-db

# Matrix Synapse 用
POSTGRES_SYNAPSE_DB=synapse
POSTGRES_SYNAPSE_USER=synapse
POSTGRES_SYNAPSE_PASSWORD=changeme-synapse-db

# Vaultwarden 用
POSTGRES_VAULTWARDEN_DB=vaultwarden
POSTGRES_VAULTWARDEN_USER=vaultwarden
POSTGRES_VAULTWARDEN_PASSWORD=changeme-vw-db

# ----------------------------------------------------------
# Nextcloud
# ----------------------------------------------------------
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=changeme-nextcloud

# S3 Object Storage（Primary Storage として使用）
S3_ENDPOINT=https://sjc1.vultrobjects.com
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_BUCKET_NEXTCLOUD=example-com-nextcloud
S3_REGION=sjc1

# ----------------------------------------------------------
# Matrix Synapse
# ----------------------------------------------------------
SYNAPSE_SERVER_NAME=example.com
SYNAPSE_REPORT_STATS=no
S3_BUCKET_SYNAPSE=example-com-synapse-media

# ----------------------------------------------------------
# Jitsi Meet
# ----------------------------------------------------------
JITSI_SECRET_JICOFO_COMPONENT=changeme-jicofo-component
JITSI_SECRET_JICOFO_AUTH=changeme-jicofo-auth
JITSI_SECRET_JVB_AUTH=changeme-jvb-auth
JVB_PORT=10000

# 自宅サーバーの固定グローバル IP
JVB_ADVERTISE_IP=203.0.113.1

# ----------------------------------------------------------
# docker-mailserver
# ----------------------------------------------------------
# メール保存先（NAS マウントポイント）
MAIL_STORAGE_PATH=/mnt/nas/mail

# ----------------------------------------------------------
# Jellyfin
# ----------------------------------------------------------
# メディアファイルのパス（NAS 上のメディアディレクトリ）
JELLYFIN_MEDIA_PATH=/mnt/nas/media

# ----------------------------------------------------------
# Vaultwarden
# ----------------------------------------------------------
VAULTWARDEN_SIGNUPS_ALLOWED=true
VAULTWARDEN_ADMIN_TOKEN=changeme-vaultwarden-admin

# ----------------------------------------------------------
# バックアップ
# ----------------------------------------------------------
# NAS ローカルバックアップ先
BACKUP_LOCAL_PATH=/mnt/nas/backup

# S3 バックアップ（オプション: NAS に加えてオフサイトバックアップ）
S3_BUCKET_BACKUP=example-com-backup
BACKUP_ENCRYPTION_KEY=changeme-backup-encryption

# ----------------------------------------------------------
# Docker ネットワーク設定（通常変更不要）
# ----------------------------------------------------------
DOCKER_SUBNET=172.20.0.0/16
